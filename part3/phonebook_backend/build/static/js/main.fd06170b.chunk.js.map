{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","searchName","handleSearchChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","className","required","type","Persons","persons","deletePerson","length","filter","person","name","toLowerCase","includes","map","i","number","onClick","id","Notification","message","text","baseUrl","services","getAll","axios","get","create","newObject","post","update","put","remove","delete","App","useState","setPersons","useEffect","phonebookService","then","response","data","setNewName","setNewNumber","setSearchName","notification","setNotification","updatePerson","personObject","p","flashNotification","catch","err","setTimeout","e","target","preventDefault","window","confirm","concat","error","personName","status","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd06170b.chunk.js","sourcesContent":["function Filter({ searchName, handleSearchChange}) {\n  return (\n    <div>\n        Filter Names: <input value={searchName} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default Filter;","function PersonForm({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) {\n  return (\n    <form onSubmit={addPerson}>\n      <div className=\"form-inputs\">\n        <div className=\"form-field-group\">\n          <label>Name</label>\n          <input required value={newName} onChange={handleNameChange} />\n        </div>\n        <div className=\"form-field-group\">\n          <label>Number</label>\n          <input required value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <button className=\"add-btn\" type=\"submit\">\n          Add\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","function Persons({ persons, searchName, deletePerson }) {\n  return (\n    <>\n      {persons.length > 0 && (\n        <table className=\"persons-table\">\n          <tbody>\n            {persons\n              .filter((person) =>\n                person.name.toLowerCase().includes(searchName.toLowerCase())\n              )\n              .map((person, i) => (\n                <tr key={i}>\n                  <td className=\"name\">{person.name}</td>\n                  <td className=\"number\">{person.number}</td>\n                  <td><button onClick={() => deletePerson(person.id)} className=\"delete-btn\">Delete</button></td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      )}\n    </>\n  );\n}\n\nexport default Persons;\n","function Notification({ message }) {\n  if (message.type === null) {\n    return null;\n  }\n  return (\n    <div className={`notification ${message.type}`}>\n      <p>{message.text}</p>\n    </div>\n  );\n}\n\nexport default Notification;\n","import axios from \"axios\";\n//const baseUrl = \"http://localhost:3001/persons\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst services = { getAll, create, update, remove };\n\nexport default services;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\nimport phonebookService from \"./services/phonebook\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    phonebookService.getAll().then((response) => setPersons(response.data));\n  }, []);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [notification, setNotification] = useState({ text: null, type: null });\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchName(e.target.value);\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const personExists = persons.map((person) => person.name).includes(newName);\n    if (personExists) {\n      const confirmAdd = window.confirm(\n        `${newName} is already added to the phonebook. Replace the old number with the new one?`\n      );\n      if (confirmAdd) {\n        const person = persons.filter((person) => person.name === newName)[0];\n        updatePerson(person);\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      phonebookService\n        .create(personObject)\n        .then((response) => {\n          setPersons(persons.concat(response.data));\n          flashNotification({\n            text: `You have added ${newName} to your phonebook.`,\n            type: \"success\",\n          });\n        })\n        .catch((error) => {\n          flashNotification({\n            text: error.response.data.error,\n            type: \"error\",\n          });\n        });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const updatePerson = (person) => {\n    const personObject = { ...person, number: newNumber };\n    phonebookService\n      .update(person.id, personObject)\n      .then((response) => {\n        setPersons(\n          persons.map((p) => (p.id !== person.id ? p : response.data))\n        );\n        flashNotification({\n          text: `You have updated ${newName}'s details in your phonebook.`,\n          type: \"success\",\n        });\n      })\n      .catch((err) => {\n        flashNotification({\n          text: `Information of ${newName} has already been removed from the server.`,\n          type: \"error\",\n        });\n      });\n  };\n\n  const deletePerson = (id) => {\n    const personName = persons.filter((person) => person.id === id)[0].name;\n    const confirmDelete = window.confirm(\n      `Delete ${personName} from phonebook?`\n    );\n    if (confirmDelete) {\n      phonebookService.remove(id).then((response) => {\n        if (response.status === 204) {\n          setPersons(persons.filter((person) => person.id !== id));\n        }\n      });\n    }\n  };\n\n  const flashNotification = ({ text, type }) => {\n    setNotification({ text, type });\n    setTimeout(() => {\n      setNotification({ text: null, type: null });\n    }, 3000);\n  };\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      <Filter searchName={searchName} handleSearchChange={handleSearchChange} />\n      <div>\n        <Notification message={notification} />\n        <h3>Add new</h3>\n        <PersonForm\n          addPerson={addPerson}\n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <h3>Numbers</h3>\n        <Persons\n          deletePerson={deletePerson}\n          persons={persons}\n          searchName={searchName}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}